---
layout: layouts/base.njk
pagination:
  data: guidesPages
  size: 1
  alias: guide
permalink: "{{ guide.url }}index.html"
title: "{{ guide.title }}"
description: "{{ guide.description }}"
canonical: "https://teklio.de{{ guide.url }}"
---

<header class="guide-header">
  {% set issue = guide.issueName %}
  {% set device = guide.deviceName %}

  <h1 class="guide-title">
    {% if issue.startsWith("Kein") or issue.startsWith("Keine") %}
      {{ issue }} beim {{ device }}
    {% elseif issue.includes("nicht") %}
      {{ device }} {{ issue }}
    {% else %}
      {{ issue }} am {{ device }}
    {% endif %}
  </h1>

  <p class="guide-subline">
    VerstÃ¤ndliche Anleitung zur schnellen ProblemlÃ¶sung
  </p>
</header>

{% set stepCount = guide.steps | length %}

<h2 class="steps-heading">
  <span class="steps-count">{{ stepCount }}</span>
  Schritt{% if stepCount != 1 %}e{% endif %} zur LÃ¶sung
</h2>

{% if guide.intro %}
  <div class="guide-intro">
    <p>{{ guide.intro }}</p>
  </div>
{% endif %}

{% if guide.difficulty or guide.system %}
  <div class="guide-meta">
    {% if guide.difficulty %}<span class="badge">ðŸ§© Schwierigkeit: {{ guide.difficulty }}</span>{% endif %}
    {% if guide.system %}<span class="badge">ðŸ’» System: {{ guide.system }}</span>{% endif %}
  </div>
{% endif %}

<div class="guide-steps">
  <h2>So behebst du das Problem</h2>

  <ol>
    {% for s in guide.steps %}
      <li>

        {# ==========================
           NEU: Step ist Objekt
           { title, note, detail }
           ========================== #}
        {% if s.title %}

          <strong>{{ s.title }}</strong>

          {% if s.note %}
            <p class="step-note">{{ s.note }}</p>
          {% endif %}

          {% if s.detail %}
            <details class="step-details">
              <summary>So gehtâ€™s</summary>

              {# Windows #}
              {% if s.detail.windows and s.detail.windows.length %}
                <p><strong>Windows</strong></p>
                <ol>
                  {% for d in s.detail.windows %}
                    <li>{{ d }}</li>
                  {% endfor %}
                </ol>
              {% endif %}

              {# Mac #}
              {% if s.detail.mac and s.detail.mac.length %}
                <p><strong>Mac</strong></p>
                <ol>
                  {% for d in s.detail.mac %}
                    <li>{{ d }}</li>
                  {% endfor %}
                </ol>
              {% endif %}

              {# Android #}
              {% if s.detail.android and s.detail.android.length %}
                <p><strong>Android</strong></p>
                <ol>
                  {% for d in s.detail.android %}
                    <li>{{ d }}</li>
                  {% endfor %}
                </ol>
              {% endif %}

              {# iOS #}
              {% if s.detail.ios and s.detail.ios.length %}
                <p><strong>iPhone (iOS)</strong></p>
                <ol>
                  {% for d in s.detail.ios %}
                    <li>{{ d }}</li>
                  {% endfor %}
                </ol>
              {% endif %}

              {# Fallback: detail ist einfacher Text #}
              {% if (not s.detail.windows and not s.detail.mac and not s.detail.android and not s.detail.ios) and s.detail %}
                <p>{{ s.detail }}</p>
              {% endif %}
            </details>
          {% endif %}

        {# ==========================
           ALT: Step ist String
           ========================== #}
        {% else %}
          {{ s }}
        {% endif %}

      </li>
    {% endfor %}
  </ol>
</div>

{% if guide.causes and guide.causes.length %}
  <h2>HÃ¤ufige Ursachen</h2>
  <ul>
    {% for c in guide.causes %}
      <li>{{ c }}</li>
    {% endfor %}
  </ul>
{% endif %}

{% if guide.support %}
  <h2>Wann solltest du den Support kontaktieren?</h2>
  <p>{{ guide.support }}</p>
{% endif %}

<p style="margin-top:16px;">
  <a href="/assistent/">Zum Assistenten</a>
</p>
